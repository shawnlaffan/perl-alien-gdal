use alienfile;

plugin 'PkgConfig' => 'libpng16';

probe [ 'pkg-config --exists libpng16' ];

share {

  plugin Download => (
    url     => 'http://prdownloads.sourceforge.net/libpng/libpng-1.6.28.tar.gz?download',
    version => qr/^libpng16-([0-9\.]+)\.tar\.gz$/,
  );

  plugin Extract => 'tar.gz';

  plugin 'Build::Autoconf' => ();

  # the build step is only necessary if you need to customize the
  # options passed to ./configure.  The default set by the
  # Build::Autoconf plugin is frequently sufficient.
  build [
    '%{configure} --disable-shared',
    '%{make} LIBS=-lz',
    '%{make} install',
  ];
};
